<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Someone I Love</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Background Music -->
    <audio id="bg-music" autoplay loop>
        <source src="IV.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <script>
        const bgMusic = document.getElementById('bg-music');
        bgMusic.volume = 0.2;
    </script>

    <!-- Main Content -->
    <div class="container">
        <h1>For the Love of My Life: <span id="name">Cheska</span></h1>
        <img id="banner" src="1.jpg" alt="Banner Image" class="banner">
        <p class="description">
            From Gian, <br>
            This page is made and dedicated for ches, and ches alone.
            <br> I love you.
            <br> <span class="smaller-text">refresh to get a different message everytime
            <br> |
            <br> |
            <br> V
            </span>
        </p>    

        <p class="quote" id="love-line">
            <!-- The randomized love line will appear here -->
        </p>

        <!-- Timer Section -->
        <div class="timer-container">
            <h2 id="countdown-timer">Loading Countdown...</h2>
        </div>
    </div>

    <!-- Fireworks Animation Section -->
    <div id="fireworks-container" class="hidden">
        <canvas id="fireworks-canvas"></canvas>
    </div>

    <div id="timer" style="font-size: 2rem; text-align: center; margin-top: 20px;"></div>

    <!-- JavaScript -->
    <script>
        // Randomize love lines on refresh
        const loveLines = [
            "You are the love of my life.",
            "You're the reason why I keep moving forward.",
            "Frog.",
            "Yis, I'll love you forever and ever.",
            "Life feels incomplete without you.",
            "I miss you.",
            "I love you.",
            "See you soon baby."
        ];
    
        // Display a random love line
        const randomLine = loveLines[Math.floor(Math.random() * loveLines.length)];
        document.getElementById('love-line').innerText = randomLine;
    
        // Countdown Timer
        const countdownElement = document.getElementById('countdown-timer');
        const fireworksContainer = document.getElementById('fireworks-container');
        const mainContent = document.querySelector('.container');
    
        let targetDate = new Date().getTime();
    
        function updateTimer() {
            const now = new Date().getTime();
            const timeLeft = targetDate - now;
    
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                startTransition();
                return;
            }
    
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
    
            countdownElement.innerText = `${days}d ${hours}h ${minutes}m ${seconds}s until 2025!`;
        }
    
        const timerInterval = setInterval(updateTimer, 1000);
        updateTimer(); // Initial call
    
        // Transition to Messages
        function startTransition() {
            mainContent.style.display = 'none'; // Hide main content
            document.body.style.background = "black"; // Turn screen black
    
            const messages = [
                "I'm so happy to meet you this year.",
                "You are now an important person in my life.",
                "More memories to come, Cheska.",
                "I love you."
            ];
    
            let index = 0;
    
            function displayMessage() {
                if (index >= messages.length) {
                    endTransition(); // Go back to original content
                    return;
                }
    
                const messageElement = document.createElement("div");
                messageElement.innerText = messages[index];
                messageElement.style.color = "white";
                messageElement.style.fontSize = "2rem";
                messageElement.style.textAlign = "center";
                messageElement.style.marginTop = "20%";
                messageElement.style.opacity = "0";
                messageElement.style.transition = "opacity 2s";
    
                document.body.appendChild(messageElement);
    
                setTimeout(() => {
                    messageElement.style.opacity = "1"; // Fade in
                }, 100);
    
                setTimeout(() => {
                    messageElement.style.opacity = "0"; // Fade out
                    setTimeout(() => {
                        document.body.removeChild(messageElement);
                        index++;
                        displayMessage(); // Show next message
                    }, 4000);
                }, 3000);
            }
    
            displayMessage();
        }
    
        // Return to Original Website
        function endTransition() {
            document.body.style.background = ""; // Reset background
            mainContent.style.display = 'block'; // Show main content
            targetDate = new Date("2026-01-01T00:00:00").getTime(); // Update countdown for 2026
            updateTimer(); // Update immediately
            setInterval(updateTimer, 1000); // Restart timer
        }
    </script>
    
</body>
</html>
